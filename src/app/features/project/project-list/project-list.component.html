
<backpanel  color="grey-bg" image="left">
    <app-input id="search" [complete]="complete" 
                           placeholder="Search projects" 
                           clearStyle="input__clear--right20"
                           wrapperStyle="backpanel__search"
                           (onModelChanged)="filterProjects($event)"></app-input>
</backpanel>


<div class="project-list">
    <filter-panel [sortProperty]="sortProperty">
         <!-- <filter-item  name="view"></filter-item>  -->
         <filter-item [withTooltip]="true" name="export">
                <p (click)="createPresentation()" class="filter-item__tooltip-i">
                    <img src="./../../assets/images/powerpoint.png" alt="">
                    Powerpoint
                </p>
                <!-- <p class="filter-item__tooltip-i">
                    <img src="./../../assets/images/exel.png" alt="">
                    Excel
                </p> -->
        </filter-item> 
        <filter-item [withTooltip]="true" [tooltipVisible]="false"  name="sort">
            <p class="filter-item__tooltip-i" (click)="sortProjects('name')">Sort by name</p>
            <p class="filter-item__tooltip-i" (click)="sortProjects('line')">Sort by production line</p>
            <p class="filter-item__tooltip-i" (click)="sortProjects('teamcount')" >Sort by team size</p>
            <p class="filter-item__tooltip-i" (click)="sortProjects('dateModified')">Sort by date modified</p>       
        </filter-item>  
        <filter-item [withTooltip]="true"              
                     tooltipStyle="filter-item--minwidth630"
                      name="filter">
            <h1 class="filter__header">Filters
                <a (click)="clearFilters()" class="filter__button filter__button--floatR">CLEAR</a>   
            </h1>
            <div class="filter__wrapper">
                <div class="filter__block">
                    <div class="filter__checkboxes">
                        <h3 class="filter__subheader">
                            Production line    
                        </h3>
                        <div *ngFor="let l of constants.lines" class="filter__checkbox">
                                <p-checkbox   
                                    name="lines" 
                                    value="{{l}}" 
                                    label="{{l}}" 
                                    (onChange)="check($event,'line')"
                                    [(ngModel)]="line" 
                                    inputId="l"></p-checkbox>
                        </div>                     
                    </div>  
                    <div class="filter__checkboxes">
                        <h3 class="filter__subheader">
                            Project type    
                        </h3>
                        <div *ngFor="let t of constants.types" class="filter__checkbox">
                                <p-checkbox   
                                    name="type" 
                                    value="{{t}}" 
                                    label="{{t}}" 
                                    (onChange)="check($event,'type')"
                                    [(ngModel)]="type" 
                                    inputId="t"></p-checkbox>
                        </div>                     
                    </div>   
                    <div class="filter__checkboxes">
                        <h3 class="filter__subheader">
                            Program   
                        </h3>
                        <div *ngFor="let pr of constants.programs" class="filter__checkbox">
                                <p-checkbox   
                                    name="program" 
                                    value="{{pr}}" 
                                    label="{{pr}}" 
                                    (onChange)="check($event,'program')"
                                    [(ngModel)]="program" 
                                    inputId="pr"></p-checkbox>
                        </div>                     
                    </div> 
                    <div class="filter__checkboxes">
                        <h3 class="filter__subheader">
                            Project domain    
                        </h3>
                        <div *ngFor="let dom of constants.domains" class="filter__checkbox">
                                <p-checkbox   
                                    name="domain" 
                                    value="{{dom}}" 
                                    label="{{dom}}" 
                                    (onChange)="check($event,'domain')"
                                    [(ngModel)]="domain" 
                                    inputId="dom"></p-checkbox>
                        </div>                     
                    </div>
                    <div class="filter__checkboxes">
                        <h3 class="filter__subheader">
                            Customer    
                        </h3>
                        <div *ngFor="let cus of constants.customers" class="filter__checkbox">
                                <p-checkbox   
                                    name="customer" 
                                    value="{{cus}}" 
                                    label="{{cus}}" 
                                    (onChange)="check($event,'customer')"
                                    [(ngModel)]="customer" 
                                    inputId="cus"></p-checkbox>
                        </div>                     
                    </div>                     
                </div> 
                <div class="filter__block">
                    <technology-picker pickerStyle="technology-picker--no-border technology-picker--no-padding technology-picker--height400"
                                       clearStyle="input__clear--filter"
                                       searchStyle="input--filter" 
                                       selectStyle="technology-picker--hidden"
                                       [selected]="selectedTechnology"
                                      (onSelect)="check($event,'technologies')">
                    </technology-picker>    
                </div>                               
            </div>   
            <footer class="filter__footer">
                <a (click)="clearFilters()" class="filter__button">CLEAR</a>    
            </footer>
        </filter-item>  
    </filter-panel>
    <p *ngIf="!projects.length" class="project-list__empty">
        Projects not found
    </p>
    <project-item [@fadeIn]="''" *ngFor="let project of projects" [model]="project"></project-item>

    <app-button (click)="newProject()" value="+" style="button--action" ></app-button>
</div>