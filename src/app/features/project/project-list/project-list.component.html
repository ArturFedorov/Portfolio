
<backpanel  color="grey-bg" image="left">
    <app-input id="search" [complete]="complete" 
                           placeholder="Search projects" 
                           clearStyle="input__clear--right20"
                           wrapperStyle="backpanel__search"
                           (onModelChanged)="filterProjects($event)"></app-input>
</backpanel>


<div @appear3 class="project-list">
    <filter-panel>
        <!-- <filter-item (onFilterAction)="onFilterAction($event)" name="view"></filter-item> -->
        <!-- <filter-item [withTooltip]="true" (onFilterAction)="onFilterAction($event)" name="export">
                <p class="filter-item__tooltip-i">
                    <img src="./../../assets/images/powerpoint.png" alt="">
                    Powerpoint
                </p>
                <p class="filter-item__tooltip-i">
                    <img src="./../../assets/images/exel.png" alt="">
                    Excel
                </p>
        </filter-item> -->
        <filter-item [withTooltip]="true" [tooltipVisible]="false" (onFilterAction)="onFilterAction($event)" name="sort">
            <p class="filter-item__tooltip-i" (click)="onFilterAction('name')">Sort by name</p>
            <p class="filter-item__tooltip-i" (click)="onFilterAction('line')">Sort by production line</p>
            <p class="filter-item__tooltip-i" (click)="onFilterAction('teamcount')" >Sort by team size</p>
            <p class="filter-item__tooltip-i" (click)="onFilterAction('dateModified')">Sort by date modified</p>       
        </filter-item>  
        <filter-item [withTooltip]="true" 
                     [tooltipVisible]="tooltipVisible" 
                     tooltipStyle="filter-item--minwidth630"
                      name="filter">
            <h1 class="filter__header">Filters</h1>
            <div class="filter__wrapper">
                <div class="filter__block">
                    <div class="filter__checkboxes">
                        <h3 class="filter__subheader">
                            Production line    
                        </h3>
                        <div *ngFor="let l of constants.lines" class="filter__checkbox">
                                <p-checkbox   
                                    name="lines" 
                                    value="{{l}}" 
                                    label="{{l}}" 
                                    (onChange)="check($event,'line')"
                                    [(ngModel)]="line" 
                                    inputId="l"></p-checkbox>
                        </div>                     
                    </div>  
                    <div class="filter__checkboxes">
                        <h3 class="filter__subheader">
                            Project type    
                        </h3>
                        <div *ngFor="let t of constants.types" class="filter__checkbox">
                                <p-checkbox   
                                    name="type" 
                                    value="{{t}}" 
                                    label="{{t}}" 
                                    (onChange)="check($event,'type')"
                                    [(ngModel)]="type" 
                                    inputId="t"></p-checkbox>
                        </div>                     
                    </div>   
                    <div class="filter__checkboxes">
                        <h3 class="filter__subheader">
                            Program   
                        </h3>
                        <div *ngFor="let pr of constants.programs" class="filter__checkbox">
                                <p-checkbox   
                                    name="program" 
                                    value="{{pr}}" 
                                    label="{{pr}}" 
                                    (onChange)="check($event,'program')"
                                    [(ngModel)]="program" 
                                    inputId="pr"></p-checkbox>
                        </div>                     
                    </div> 
                        <div class="filter__checkboxes">
                            <h3 class="filter__subheader">
                                Project domain    
                            </h3>
                            <div *ngFor="let dom of constants.domains" class="filter__checkbox">
                                    <p-checkbox   
                                        name="domain" 
                                        value="{{dom}}" 
                                        label="{{dom}}" 
                                        (onChange)="check($event,'domain')"
                                        [(ngModel)]="domain" 
                                        inputId="dom"></p-checkbox>
                            </div>                     
                        </div> 
                </div> 
                <div class="filter__block">
                    <technology-picker pickerStyle="technology-picker--no-border technology-picker--no-padding"
                                       clearStyle="input__clear--filter"
                                       searchStyle="input--filter" 
                                      (onSelect)="filterByTechnology($event)">
                    </technology-picker>    
                </div>   
            </div>   
        </filter-item>  
    </filter-panel>
    <project-item [@fadeIn]="''" *ngFor="let project of projects" [model]="project"></project-item>

    <app-button (click)="newProject()" value="+" style="button--action" ></app-button>
</div>